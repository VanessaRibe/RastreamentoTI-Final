{% extends "base.html" %}

{% block title %}Checkout{% endblock %}
{% block page_header %}Sa√≠da de Equipamento{% endblock %}

{% block content %}
    <h1>üì§ Checkout de Equipamento (Movimenta√ß√£o)</h1>

    <p>Use esta p√°gina para registrar a retirada de um equipamento de sua localiza√ß√£o atual para uma nova Sala de Destino. O equipamento ser√° marcado como **"Em Tr√¢nsito"**.</p>

    <div class="flash warning" style="margin-bottom: 20px;">
        <strong>Instru√ß√£o:</strong> O equipamento ser√° marcado como 'Em Tr√¢nsito'. O Check-in confirmar√° a chegada.
    </div>

    <form method="POST" action="{{ url_for('main.checkout') }}">

        <div style="margin-bottom: 15px;">
            <label for="numero_serie" style="display: inline-block; width: 200px;">N√∫mero de S√©rie / C√≥digo de Barras:</label>
            <input type="text" id="numero_serie" name="numero_serie" required
                   placeholder="Digite ou escaneie o N¬∫ de S√©rie" style="width: 300px;">
        </div>

        <hr>

        <h2>Destino Planejado:</h2>

        <div style="margin-bottom: 15px;">
            <label for="predio_destino" style="display: inline-block; width: 200px;">Pr√©dio de Destino:</label>
            <select id="predio_destino" style="width: 300px;" onchange="filterSalas()">
                <option value="">-- Selecione o Pr√©dio --</option>
                {% for predio in predios %}
                    <option value="{{ predio.id }}">{{ predio.nome }}</option>
                {% endfor %}
            </select>
        </div>

        <div style="margin-bottom: 25px;">
            <label for="sala_destino_id" style="display: inline-block; width: 200px;">Sala de Destino:</label>
            <select id="sala_destino_id" name="sala_destino_id" required style="width: 300px;">
                <option value="">-- Selecione a Sala --</option>
            </select>
        </div>

        <button type="submit"
                style="padding: 10px 20px; background-color: #ff9800; color: white; border: none; border-radius: 5px; cursor: pointer;">
            Registrar Checkout (Marcar como 'Em Tr√¢nsito')
        </button>
    </form>

    {% endblock %}